<!-- Main container for the set password page -->
<div class="set-password-container">

    <!-- PrimeNG Toast for messages -->
    <p-toast></p-toast>
  
    <!-- Logo Area -->
    <div class="logo-container standalone-logo">
      <img src="assets/alten-logo.png" alt="ALTEN Logo Graphic" class="logo-image"> <!-- Update path -->
      <div class="logo-text-wrapper">
        <span class="logo-text-main">ALTEN</span>
        <span class="logo-text-sub">RemoteSync</span>
      </div>
    </div>
  
    <!-- Centered Content Wrapper -->
    <div class="content-wrapper">
      <!-- Card containing the form elements -->
      <div class="form-card text-center"> <!-- Added text-center -->
        <!-- Heading -->
        <h1 class="card-title">Set Your New Password</h1>
        <!-- Subtitle/Instructions -->
        <p class="card-subtitle">Please enter your new password below and confirm it.</p>
  
        <!-- Form -->
        <!-- Apply custom validator (if using that approach): [formGroup]="setPasswordForm.form" -->
        <form (ngSubmit)="updatePassword()" #setPasswordForm="ngForm" novalidate>
  
          <!-- New Password Input Group -->
          <div class="form-group text-left">
            <label for="new-password" class="form-label">New Password</label>
            <span class="p-input-icon-left w-full">
              <i class="pi pi-lock"></i>
              <p-password
                id="new-password"
                name="newPassword"
                [(ngModel)]="newPassword"
                #newPasswordField="ngModel"
                placeholder="Enter new password"
                [feedback]="true"       
                styleClass="w-full"
                inputStyleClass="w-full"
                [toggleMask]="true"
                required
                minlength="8" 
                >
              </p-password>
            </span>
            <!-- Optional: Add validation hint from ngModel errors -->
            <!-- <div *ngIf="newPasswordField.invalid && (newPasswordField.dirty || newPasswordField.touched || submitted)">...</div> -->
          </div>
  
          <!-- Confirm New Password Input Group -->
          <div class="form-group text-left">
            <label for="confirm-password" class="form-label">Confirm New Password</label>
            <span class="p-input-icon-left w-full">
              <i class="pi pi-lock"></i>
              <p-password
                id="confirm-password"
                name="confirmPassword"
                [(ngModel)]="confirmPassword"
                #confirmPasswordField="ngModel"
                placeholder="Confirm new password"
                [feedback]="false"      
                styleClass="w-full"
                inputStyleClass="w-full"
                [toggleMask]="true"
                required
                >
              </p-password>
            </span>
            <!-- Specific message for mismatch -->
            <div *ngIf="confirmPasswordField.touched && setPasswordForm.controls['confirmPassword']?.errors?.['passwordsMismatch']" class="p-error block mt-1 text-left">
              <small>Passwords do not match.</small>
            </div>
          </div>
  
          <!-- Password Requirements Text -->
          <p class="password-requirements text-left">
            Password must be at least 8 characters long and include uppercase, lowercase letters, and numbers.
          </p>
  
          <!-- Update Password Button -->
          <button type="submit" class="btn btn-update" [disabled]="setPasswordForm.invalid && submitted">Update Password</button>
  
        </form> <!-- End Form -->
  
      </div> <!-- End Form Card -->
    </div> <!-- End Content Wrapper -->
  
  </div> <!-- End Set Password Container -->